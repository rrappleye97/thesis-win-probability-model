<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Chapter 3 Results | Modeling Win Probability in NFL Games</title>
  <meta name="description" content="Chapter 3 Results | Modeling Win Probability in NFL Games">
  <meta name="generator" content="bookdown  and GitBook 2.6.7">

  <meta property="og:title" content="Chapter 3 Results | Modeling Win Probability in NFL Games" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 3 Results | Modeling Win Probability in NFL Games" />
  
  
  

<meta name="author" content="Robert Rappleye">



  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="2-methodology.html">
<link rel="next" href="4-applications.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />










</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./"></a></li>
<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Introduction</a></li>
<li class="chapter" data-level="" data-path="literature-review.html"><a href="literature-review.html"><i class="fa fa-check"></i>Literature Review</a></li>
<li class="chapter" data-level="1" data-path="1-data.html"><a href="1-data.html"><i class="fa fa-check"></i><b>1</b> Data</a></li>
<li class="chapter" data-level="2" data-path="2-methodology.html"><a href="2-methodology.html"><i class="fa fa-check"></i><b>2</b> Methodology</a><ul>
<li class="chapter" data-level="2.1" data-path="2-methodology.html"><a href="2-methodology.html#modeling-win-probability-on-kickoffs-and-point-after-attempts"><i class="fa fa-check"></i><b>2.1</b> Modeling Win Probability on Kickoffs and Point After Attempts</a></li>
<li class="chapter" data-level="2.2" data-path="2-methodology.html"><a href="2-methodology.html#modeling-win-probability-on-first-and-ten"><i class="fa fa-check"></i><b>2.2</b> Modeling Win Probability on First and Ten</a></li>
<li class="chapter" data-level="2.3" data-path="2-methodology.html"><a href="2-methodology.html#modeling-win-probability-in-other-scenarios"><i class="fa fa-check"></i><b>2.3</b> Modeling Win Probability in Other Scenarios</a></li>
<li class="chapter" data-level="2.4" data-path="2-methodology.html"><a href="2-methodology.html#reasoning-behind-modeling-methodology"><i class="fa fa-check"></i><b>2.4</b> Reasoning Behind Modeling Methodology</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="3-results.html"><a href="3-results.html"><i class="fa fa-check"></i><b>3</b> Results</a></li>
<li class="chapter" data-level="4" data-path="4-applications.html"><a href="4-applications.html"><i class="fa fa-check"></i><b>4</b> Applications</a></li>
<li class="chapter" data-level="5" data-path="5-discussion.html"><a href="5-discussion.html"><i class="fa fa-check"></i><b>5</b> Discussion</a><ul>
<li class="chapter" data-level="5.1" data-path="5-discussion.html"><a href="5-discussion.html#conclusion"><i class="fa fa-check"></i><b>5.1</b> Conclusion</a></li>
</ul></li>
<li class="appendix"><span><b>Appendix</b></span></li>
<li class="chapter" data-level="A" data-path="A-appendix.html"><a href="A-appendix.html"><i class="fa fa-check"></i><b>A</b> Appendix</a><ul>
<li class="chapter" data-level="A.1" data-path="A-appendix.html"><a href="A-appendix.html#qb-model"><i class="fa fa-check"></i><b>A.1</b> QB Model</a></li>
<li class="chapter" data-level="A.2" data-path="A-appendix.html"><a href="A-appendix.html#two-point-chart"><i class="fa fa-check"></i><b>A.2</b> Two Point Chart</a></li>
<li class="chapter" data-level="A.3" data-path="A-appendix.html"><a href="A-appendix.html#gbm-for-p_stopped"><i class="fa fa-check"></i><b>A.3</b> GBM for <span class="math inline">\(P_{stopped}\)</span></a></li>
<li class="chapter" data-level="A.4" data-path="A-appendix.html"><a href="A-appendix.html#downs-outcome-formulas"><i class="fa fa-check"></i><b>A.4</b> Downs Outcome Formulas</a></li>
<li class="chapter" data-level="A.5" data-path="A-appendix.html"><a href="A-appendix.html#gbm-for-p_penaltyreplay"><i class="fa fa-check"></i><b>A.5</b> GBM for <span class="math inline">\(P_{penaltyReplay}\)</span></a></li>
<li class="chapter" data-level="A.6" data-path="A-appendix.html"><a href="A-appendix.html#gbms-for-p_score"><i class="fa fa-check"></i><b>A.6</b> GBMs for <span class="math inline">\(P_{score}\)</span></a></li>
<li class="chapter" data-level="A.7" data-path="A-appendix.html"><a href="A-appendix.html#linear-models-for-delta-field-position-outcome_i"><i class="fa fa-check"></i><b>A.7</b> Linear Models for <span class="math inline">\(\Delta \: field \: position | outcome_{i^*}\)</span></a></li>
<li class="chapter" data-level="A.8" data-path="A-appendix.html"><a href="A-appendix.html#residual-plots-for-delta-field-position-outcome_i"><i class="fa fa-check"></i><b>A.8</b> Residual Plots for <span class="math inline">\(\Delta \: field \: position | outcome_{i^*}\)</span></a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Modeling Win Probability in NFL Games</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="results" class="section level1">
<h1><span class="header-section-number">Chapter 3</span> Results</h1>
<p>Model performance is tested by re-training each sub-model on the entire training set<a href="#fn29" class="footnote-ref" id="fnref29"><sup>29</sup></a> and evaluating the performance of the models when the protocol described in Chapter 2 is used. Results are then are then compared against the other two models for which we have access to 2017 predictions—the models developed by Lock and Nettleton (2014) and Horowitz, Ventura, and Yurko (2018). The two loss functions we use to measure model performance are Brier score, the mean of the squared distance between each prediction and the corresponding outcome, and log loss, the mean of the <span class="math inline">\(log(1 - distance)\)</span> for each prediction and the corresponding outcome.</p>
<table>
<caption><span id="tab:resultsoverall">Table 3.1: </span>Brier Score by Model</caption>
<thead>
<tr class="header">
<th></th>
<th align="right">Our Model</th>
<th align="right">nflscrapR Model</th>
<th align="right">Lock and Nettleton Model</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Brier score</td>
<td align="right">0.133</td>
<td align="right">0.155</td>
<td align="right">0.195</td>
</tr>
</tbody>
</table>
<table>
<caption><span id="tab:resultsoverall">Table 3.1: </span>Log Loss by Model</caption>
<thead>
<tr class="header">
<th></th>
<th align="right">Our Model</th>
<th align="right">nflscrapR Model</th>
<th align="right">Lock and Nettleton Model</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Log loss</td>
<td align="right">-0.41</td>
<td align="right">-0.465</td>
<td align="right">-0.563</td>
</tr>
</tbody>
</table>
<p>We can also see that, as expected, the model generally performs better as the game progresses with the exception of overtime<a href="#fn30" class="footnote-ref" id="fnref30"><sup>30</sup></a>. Interestingly, each model tested has a Brier score above 0.25 for the overtime period, indicating that, at least for the 2017 season, each model would be better off classifying every overtime game as a coin flip.</p>
<table>
<caption><span id="tab:resultsquarter">Table 3.2: </span>Brier Score by Quarter</caption>
<thead>
<tr class="header">
<th></th>
<th align="right">1st Quarter</th>
<th align="right">2nd Quarter</th>
<th align="right">3rd Quarter</th>
<th align="right">4th Quarter</th>
<th align="right">Overtime</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Our model</td>
<td align="right">0.183</td>
<td align="right">0.156</td>
<td align="right">0.112</td>
<td align="right">0.081</td>
<td align="right">0.255</td>
</tr>
<tr class="even">
<td>nflscrapR model</td>
<td align="right">0.220</td>
<td align="right">0.180</td>
<td align="right">0.133</td>
<td align="right">0.089</td>
<td align="right">0.305</td>
</tr>
<tr class="odd">
<td>Lock and Nettleton Model</td>
<td align="right">0.303</td>
<td align="right">0.229</td>
<td align="right">0.163</td>
<td align="right">0.097</td>
<td align="right">0.480</td>
</tr>
</tbody>
</table>
<p>A plot has been included that omits overtime to show how average model performance improves over the course of games.</p>
<p><img src="thesis_files/figure-html/resultsquarterplot-1.png" width="672" style="display: block; margin: auto;" /></p>
<p>The model also performs relatively evenly across each down (and kickoff and point after attempts), suggesting the predictions are mostly consistent.</p>
<table>
<caption><span id="tab:resultsdown">Table 3.3: </span>Brier Score by Down</caption>
<thead>
<tr class="header">
<th></th>
<th align="right">1st Down</th>
<th align="right">2nd Down</th>
<th align="right">3rd Down</th>
<th align="right">4th Down</th>
<th align="right">Kickoff</th>
<th align="right">Point After Attempt</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Our model</td>
<td align="right">0.133</td>
<td align="right">0.134</td>
<td align="right">0.133</td>
<td align="right">0.129</td>
<td align="right">0.130</td>
<td align="right">0.130</td>
</tr>
<tr class="even">
<td>nflscrapR model</td>
<td align="right">0.156</td>
<td align="right">0.156</td>
<td align="right">0.156</td>
<td align="right">0.151</td>
<td align="right">0.153</td>
<td align="right">0.153</td>
</tr>
<tr class="odd">
<td>Lock and Nettleton Model</td>
<td align="right">0.196</td>
<td align="right">0.196</td>
<td align="right">0.196</td>
<td align="right">0.191</td>
<td align="right">0.194</td>
<td align="right">0.195</td>
</tr>
</tbody>
</table>
<p>To test calibration, game outcomes are grouped into bins that correspond to model predictions between a set of values. Twenty bins are created with each bin representing all points where the model predictions fell within a given five percent window. The mean game outcome is then plotted against the mean model prediction for each bin where the plot for a perfectly calibrated model would show a straight line with a slope of one.</p>
<p><img src="thesis_files/figure-html/calibration-1.png" width="672" style="display: block; margin: auto;" /><img src="thesis_files/figure-html/calibration-2.png" width="672" style="display: block; margin: auto;" /><img src="thesis_files/figure-html/calibration-3.png" width="672" style="display: block; margin: auto;" /></p>
<p>Our model actually appears to have been slightly underconfident during the 2017 season, though that may just be a quirk of the sample as only 256 unique games are featured and predictive perofrmance on different plays within the same game is inherently autocorrelated.</p>
<p>We were also curious whether model predictions become more accurate as the season progresses. It seems like the indicators of team strength included in the model—DVOA ratings and point spread—would become more precise as information about a team trickles in over the course of the season.</p>
<p><img src="thesis_files/figure-html/resultsweekly-1.png" width="672" style="display: block; margin: auto;" /></p>
<p>The plot seems mostly random, but Brier score values did skew a bit lower as the season progressed. A linear regression of Brier score with week as a predictor found week to have a slope of -0.0018. This may be something to look at in the future.</p>
<p>We also included a comparison of predictions outputted by each of the models over the course of a 2017 game between the New Orleans Saints and Washington Redskins.</p>
<p><img src="thesis_files/figure-html/examplegame-1.png" width="672" style="display: block; margin: auto;" />
In the game above, the Saints fell into an early hole before clawing back to force overtime on a touchdown with one minute left. They would win in overtime. This game seems instructive in terms of the strengths of our model. We are more bullish on Saints winning than the other models from the get-go, likely because they our model views them as a much better team than the Redskins, because they were favored by nine points heading into the game. Additionally, our model might be a bit more hesitant to shade too far towards teams that get out to early leads against a team with an offense as good as the one the Saints boasted in 2017<a href="#fn31" class="footnote-ref" id="fnref31"><sup>31</sup></a>, because of the increase in variance our model believes a potent offensive team to bring about.</p>
<p>It must be noted that our model has a bit of a leg up on the Lock and Nettleton (2014) model because it was trained on more recent data, and that the model created by Horowitz, Ventura and Yurko (2018) is (purposefully) not fully optimized for predicting win probability because it omits indicators of team strength. Still, the performance of our model is very encouraging. In the future we hope to compare its performance against proprietary models developed by other outlets.</p>

</div>
<div class="footnotes">
<hr />
<ol start="29">
<li id="fn29"><p>The training set is comprised of all the 2010-2016 data. During the tuning process each model was trained only on 2010-2015 data.<a href="3-results.html#fnref29" class="footnote-back">↩</a></p></li>
<li id="fn30"><p>There is a ceiling to how well even an all-knowing model could perform when predicting overtime because the games are so close to coin flips.<a href="3-results.html#fnref30" class="footnote-back">↩</a></p></li>
<li id="fn31"><p>Their offensive DVOA was 22.1% heading into the game, ranking them second in the league<a href="3-results.html#fnref31" class="footnote-back">↩</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="2-methodology.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="4-applications.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"download": [["thesis.pdf", "PDF"], ["thesis.epub", "EPUB"], ["thesis.docx", "Word"]],
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(src))
      src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
